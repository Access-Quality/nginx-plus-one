# ──────────────────────────────────────────────────────────────────────────────
# nginx-agent configuration — NGINX One (F5 Distributed Cloud)
# ──────────────────────────────────────────────────────────────────────────────
# NGINX_AGENT_SERVER_TOKEN env var (injected from K8s Secret) overrides the
# empty "token" field below so credentials are never baked into the image.
# ──────────────────────────────────────────────────────────────────────────────

server:
  host: agent.connect.nginx.com   # NGINX One gRPC endpoint
  grpcPort: 443
  token: ""                       # overridden by NGINX_AGENT_SERVER_TOKEN env var

log:
  level: info
  path: /var/log/nginx-agent/

nginx:
  # Control socket used by nginx-agent to communicate with the NGINX process.
  # NGINX Plus IC keeps its own nginx.pid; agent uses it to discover nginx.
  socket: "unix:/var/run/nginx-agent/nginx.sock"
  exclude_logs: ""
  treat_warnings_as_errors: false

dataplane:
  status:
    poll_interval: 30s
    report_interval: 5m

metrics:
  bulk_size: 20
  report_interval: 1m
  collection_interval: 15s
  mode: aggregated

tls:
  enable: true
  skip_verify: false
